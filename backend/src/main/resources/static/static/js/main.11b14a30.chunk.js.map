{"version":3,"sources":["pages/utils.js","pages/ApprovalTemplate.jsx","pages/ApprovalList.jsx","App.js","reportWebVitals.js","index.js"],"names":["alert","message","dd","notification","title","buttonName","onSuccess","onFail","err","accountList","ApprovalTemplate","props","saveAproval","data","axios","post","domain","then","res","console","log","JSON","stringify","success","setState","approvalName","errorMsg","catch","error","state","moneyFieldList","selectFieldName","dateFieldName","textFieldName","textFieldOpen","selectFieldOpen","dateFieldOpen","this","className","map","v","type","name","checked","indexOf","onChange","e","oriArr","concat","list","value","target","push","filter","getCheckedList","disabled","placeholder","onClick","length","React","Component","approvalState","ApprovalList","getInstanceList","get","instanceList","processInstanceId","url","util","openLink","corpId","processTitle","createTime","processStatus","previewApproval","bind","pageList","key","App","authCode","userId","userName","page","navigator","userAgent","toLowerCase","navigation","setTitle","login","i","loginAction","_this","permission","requestAuthCode","code","setTimeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11b14a30.chunk.js","sourcesContent":["import * as dd from \"dingtalk-jsapi\";\n\nexport const alert = (message) => {\n    dd.device.notification.alert({\n        message: message,\n        title: \"提示\", //可传空\n        buttonName: \"确定\",\n        onSuccess : function() {\n            //onSuccess将在点击button之后回调\n            /*回调*/\n        },\n        onFail : function(err) {\n            // \n        }\n    });\n}\nexport const openLink = (url) => {\n    dd.biz.util.openLink({\n        url: url,\n        onSuccess: function() {},\n        onFail: function() {}\n    });\n}","import axios from 'axios';\nimport React from 'react';\nimport { alert } from './utils'\n\n// 收款账户列表\nconst accountList = ['支付宝商家', '二维火', '饿了么外卖', '美团外卖']\n\n// 收款账户 勾选 与 勾除\nconst getCheckedList = (e, value, list) => {\n    if (e.target.checked) { // 勾选\n        list.push(value)\n    } else { // 勾除\n        list = list.filter(v => v !== value)\n    }\n    return list\n}\n\nclass ApprovalTemplate extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            approvalName: '收入日报',\n            moneyFieldList: [],\n            selectFieldName: '门店',\n            dateFieldName: '收款日期',\n            textFieldName: '备注',\n            textFieldOpen: true,\n            selectFieldOpen: true,\n            dateFieldOpen: true,\n        } \n    }\n\n    render () {\n\n        const {\n            approvalName,\n            moneyFieldList,\n            selectFieldName,\n            dateFieldName,\n            textFieldName,\n            textFieldOpen,\n            selectFieldOpen,\n            dateFieldOpen,\n        } = this.state\n\n        return (\n            <div className='approval-body'>\n                <div className='approval-contain-wrap'>\n                    <div className='approval-line'>\n                        <span className='approval-line-label'>审批名称：</span>\n                        <span className='approval-line-input'>\n                            {approvalName}\n                        </span>\n                    </div>\n                    <div className='approval-tip'> \n                        表单设置\n                    </div>\n                    <div className='approval-miti-line'>\n                        <span className='approval-miti-label'>\n                            收款账户\n                        </span>\n                        <div className='approval-miti-checkbox-wrap'>\n                            {\n                                accountList.map(v => {\n                                    return (\n                                        <div key={v} className='approval-miti-checkbox'>\n                                            <input\n                                                type=\"checkbox\"\n                                                name={v}\n                                                checked={moneyFieldList.indexOf(v) > -1 ? \"checked\" : ''}\n                                                onChange={(e) => {\n                                                    const oriArr = moneyFieldList.concat() \n                                                    const list = getCheckedList(e, v, oriArr)\n                                                    this.setState({moneyFieldList: list})\n                                                }}\n                                            />\n                                            <span>{v}</span>\n                                        </div>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>\n                    <div className='approval-line'>\n                        <input\n                            disabled={!selectFieldOpen}\n                            className='approval-line-switch-input'\n                            placeholder='请输入用户名'\n                            value={selectFieldName}\n                            onChange={(e) => {\n                                this.setState({selectFieldName: e.target.value})\n                            }}\n                        />\n                        <span className='approval-line-switch-label'>单选框</span>\n                        <input\n                            type=\"checkbox\"\n                            checked={selectFieldOpen}\n                            onChange={(e) => {\n                                this.setState({selectFieldOpen: e.target.checked})\n                            }}\n                        />\n                    </div>\n                    <div className='approval-line'>\n                        <input\n                            disabled={!dateFieldOpen}\n                            className='approval-line-switch-input'\n                            placeholder='请输入用户名'\n                            value={dateFieldName}\n                            onChange={(e) => {\n                                this.setState({dateFieldName: e.target.value})\n                            }}\n                        />\n                        <span className='approval-line-switch-label'>日期</span>\n                        <input\n                            type=\"checkbox\"\n                            checked={dateFieldOpen}\n                            onChange={(e) => {\n                                this.setState({dateFieldOpen: e.target.checked})\n                            }}\n                        />\n                    </div>\n                    <div className='approval-line'>\n                        <input\n                            disabled={!textFieldOpen}\n                            className='approval-line-switch-input'\n                            placeholder='请输入用户名'\n                            value={textFieldName}\n                            onChange={(e) => {\n                                this.setState({textFieldName: e.target.value})\n                            }}\n                        />\n                        <span className='approval-line-switch-label'>单行输入框</span>\n                        <input\n                            type=\"checkbox\"\n                            checked={textFieldOpen}\n                            onChange={(e) => {\n                                this.setState({textFieldOpen: e.target.checked})\n                            }}\n                        />\n                    </div>\n                </div>\n                <div\n                    className='approval-footer'\n                    onClick={() => {\n\n                        // 收款账户校验\n                        if (!moneyFieldList.length) {\n                            return alert('收款账户至少勾选一个')\n                        }\n                        // 单选框组件校验\n                        if (selectFieldOpen && !selectFieldName ) {\n                            return alert('单选框组件的名称必填')\n                        } else if (selectFieldName.length > 16) {\n                            return alert('单选框组件的名称必填')\n                        }\n                        // 日期组件校验\n                        if (dateFieldOpen && !dateFieldName) {\n                            return alert('日期组件的名称必填')\n                        } else if (dateFieldName.length > 16) {\n                            return alert('日期组件的名称不能超过16个字符')\n                        }\n                        // 单行输入框组件校验\n                        if (textFieldOpen && !textFieldName) {\n                            return alert('单行输入框组件的名称必填')\n                        } else if (textFieldName.length > 16) {\n                            return alert('单行输入框组件的名称不能超过16个字符')\n                        }\n\n                        const data = {\n                            moneyFieldList,\n                            selectFieldOpen,\n                            selectFieldName,\n                            dateFieldOpen,\n                            dateFieldName,\n                            textFieldOpen,\n                            textFieldName\n                        }\n\n                        this.saveAproval(data)\n                    }}\n                >\n                    新增模版\n                </div>\n            </div>\n        )\n    }\n\n    // 新增模版\n    saveAproval = (data) => {\n        axios.post(this.props.domain + \"/biz/create/model\", data)\n        .then(res => {\n            console.log(JSON.stringify(res));\n            if (res.data.success) {\n                alert(`模版【${res.data.data}】创建成功！请前往 「工作台」-「OA审批」发起审批`)\n                this.setState({approvalName: res.data.data})\n            } else {\n                alert(`${res.data.errorMsg}`)\n            }\n        }).catch(error => {\n            console.log(\"corpId err, \" + JSON.stringify(error))\n        })\n    } \n}\n\nexport default ApprovalTemplate;","import axios from 'axios';\nimport React from 'react';\nimport { openLink, alert } from './utils'\n\nconst approvalState = {\n    'start': '进行中',\n    'agree': '完成',\n    'refuse': '拒绝',\n    'terminate': '撤销',\n    'delete': '删除',\n    'cancel': '取消',\n}\n\nclass ApprovalList extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            instanceList: [],\n        } \n    }\n    componentDidMount() {\n        this.getInstanceList()\n    }\n\n    previewApproval (processInstanceId) {\n        const url = `https://aflow.dingtalk.com/dingtalk/mobile/homepage.htm?dd_share=false&showmenu=true&dd_progress=false&back=native&corpid=${this.props.corpId}&swfrom=${'XFN'}#/approval?procInstId=${processInstanceId}`\n        openLink(url);\n    }\n\n    render () {\n        return (\n            <div className='approval-body'>\n                <div className='approval-contain-wrap'>\n                    {\n                        this.state.instanceList.map(v => {\n                            return (\n                                <div className='approval-list-item' key={v.processInstanceId}>\n                                <div className='approval-list-item-line approval-list-item-margin'>\n                                    <span className='approval-list-item-name'>{v.processTitle}</span>\n                                    <span className='approval-list-item-date'>{v.createTime}</span>\n                                </div>\n                                <div className='approval-list-item-line'>\n                                    <span className='approval-list-item-state'>当前审批状态：{approvalState[v.processStatus]}</span>\n                                    <span\n                                        className='approval-list-item-link'\n                                        onClick={this.previewApproval.bind(this, v.processInstanceId)}\n                                    >\n                                        查看详情》\n                                    </span>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                    <div className='approval-list-tip'>\n                        *仅显示当次运行demo时发起的审批实例\n                    </div>\n                </div>\n                <div className='approval-footer'\n                    onClick={() => {\n                        this.getInstanceList()\n                    }}\n                >\n                    刷新列表\n                </div>\n            </div>\n        );\n    }\n\n    // 获取审批列表\n    getInstanceList = () => {\n        axios.get(this.props.domain + \"/biz/list/instance\")\n        .then(res => {\n            console.log(JSON.stringify(res));\n            if (res.data.success) {\n                this.setState({instanceList: res.data.data})\n            } else {\n                alert(`${res.data.errorMsg}`)\n            }\n        }).catch(error => {\n            console.log(\"corpId err, \" + JSON.stringify(error))\n        })\n    }\n}\n\nexport default ApprovalList;","import axios from 'axios';\nimport React from 'react';\nimport './App.css';\nimport * as dd from \"dingtalk-jsapi\";\n\nimport ApprovalTemplate from './pages/ApprovalTemplate'\nimport ApprovalList from './pages/ApprovalList'\n\nconst pageList = [{name: '配置模版', key: 'temp'}, {name: '审批数据', key: 'list'}]\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            //内网穿透工具介绍:\n            // https://developers.dingtalk.com/document/resourcedownload/http-intranet-penetration?pnamespace=app\n            // domain: \"\",\n            domain: '',\n            corpId: '',\n            authCode: '',\n            userId: '',\n            userName: '',\n            \n            page: 'temp' // 两个页面： 配置模版：’temp‘  审批数据：’list‘\n        } \n    }\n    componentDidMount() {\n        if (navigator.userAgent.toLowerCase().indexOf('dingtalk') > -1) {\n            dd.biz.navigation.setTitle({ title: '收入日报demo' })\n        }\n    }\n\n    render() {\n\n        const { domain, corpId, page } = this.state\n        \n        if (this.state.userId === '') {\n            // 免登操作\n            this.login();\n        }\n        return (\n            <div className='app-wrap'>\n                <div className='app-tit-wrap'>\n                {\n                    pageList.map((v, i) => { \n                        return (\n                            <div\n                                key={v.key}\n                                className={page === v.key ? 'app-tit-item app-tit-item-cur' : 'app-tit-item'}\n                                onClick={() => {\n                                    this.setState({page: v.key})\n                                }}\n                            >\n                                {v.name}\n                            </div>\n                        )\n                    })\n                }\n                </div>\n                {\n                    page === 'temp' ? \n                    <ApprovalTemplate\n                        domain={domain}\n                        corpId={corpId}\n                    />\n                    :\n                    <ApprovalList\n                        domain={domain}\n                        corpId={corpId}\n                    />\n                }    \n            </div>\n        );\n    }\n\n    //登录-获取corpId\n    login() {\n        axios.get(this.state.domain + \"/getCorpId\")\n            .then(res => {\n                console.log(JSON.stringify(res));\n                if (res.data) {\n                    this.loginAction(res.data.data);\n                }\n            }).catch(error => {\n                console.log(\"corpId err, \" + JSON.stringify(error))\n            })     \n    }\n\n    //登录操作\n    loginAction(corpId) {\n        console.log(\"corpId: \" +  corpId);\n        let _this = this;\n        dd.runtime.permission.requestAuthCode({\n            corpId: corpId,//企业 corpId\n            onSuccess: function (res) {\n                // 调用成功时回调\n                _this.state.authCode = res.code\n                axios.get(_this.state.domain + \"/login?authCode=\" + _this.state.authCode\n                ).then(res => {\n                    if (res && res.data.success) {\n                        let userId = res.data.data.userId;\n                        let userName = res.data.data.userName;\n                        alert('登录成功，你好' + userName);\n                        setTimeout(function () {\n                            _this.setState({\n                                userId: userId,\n                                userName: userName,\n                                corpId: corpId\n                            })\n                        }, 0)\n                    } else {\n                        console.log(\"login failed --->\" + JSON.stringify(res));\n                    }\n                }).catch(error => {\n                    console.log(\"httpRequest failed --->\" + JSON.stringify(error))\n                })\n            },\n            onFail: function (err) {\n                // 调用失败时回调\n                console.log(\"requestAuthCode failed --->\" + JSON.stringify(err))\n            }\n        });\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}